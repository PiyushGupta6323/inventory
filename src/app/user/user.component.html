<div class="container">
  <h4>Users</h4>
  <form class="form-group" [formGroup]="userForm" (ngSubmit)="onSubmit()">

    <div class="form-group">
      <label for="selectDistrict">Select District</label>
      <select class="form-select" id="selectDistrict" formControlName="Dist_id">
        <option [ngValue]="null">-Select-</option>
        <option *ngFor="let d of districts" [ngValue]="d.Id">{{ d.District_name }}</option>
      </select>
    </div>

    <div class="form-group">
      <label for="selectBlock">Select Block</label>
      <select class="form-select" id="selectBlock" formControlName="Block_id">
        <option [ngValue]="null">-Select-</option>
        <option *ngFor="let b of blocks" [ngValue]="b.Id">{{ b.Block_name }}</option>
      </select>
    </div>

    <div class="form-group">
      <label for="selectDesignation">Select Designation</label>
      <select class="form-select" id="selectDesignation" formControlName="Designation_Id">
        <option [ngValue]="null">-Select-</option>
        <option *ngFor="let des of designations" [ngValue]="des.Id">{{ des.Designation_name }}</option>
      </select>
    </div>

    <div class="form-group">
      <label>User Name</label>
      <input type="text" class="form-control" formControlName="User_name" placeholder="Enter User name" />
    </div>

    <div class="form-group">
      <label>Password</label>
      <input type="text" class="form-control" formControlName="Password" placeholder="Enter Password" />
    </div>

    <div class="form-group">
      <label>Is Active</label>
      <input type="checkbox" formControlName="Isactive" class="checkbox" />
    </div>

    <button type="submit" class="btn btn-primary">{{ editMode ? 'Update' : 'Save' }}</button>
    <button type="button" class="btn btn-secondary ms-2" (click)="resetForm()" *ngIf="editMode">Cancel</button>
  </form>

  <table class="table table-striped table-bordered mt-3">
    <thead>
      <tr>
        <th scope="col">Sr No</th>
        <th scope="col">District</th>
        <th scope="col">Block</th>
        <th scope="col">Designation</th>
        <th scope="col">User Name</th>
        <th scope="col">Password</th>
        <th scope="col">Active</th>
        <th scope="col">Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of users; let i = index">
        <td>{{  i + 1 }}</td>
        <td>{{ item.District_name }}</td>
        <td>{{ item.Block_name }}</td>
        <td>{{ item.Designation_name }}</td>
        <td>{{ item.User_name }}</td>
        <td>{{ item.Password }}</td>
        <td>{{ item.Isactive }}</td>
        <td>
          <a class="action-edit" (click)="editUser(item)">Edit</a>
          |
          <a class="action-delete" (click)="deleteUser(item.Id)">Delete</a>
        </td>
      </tr>
    </tbody>
  </table>
</div>
